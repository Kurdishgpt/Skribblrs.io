<% const colorClasses=["white", "grey1" , "red1" , "orange1" , "yellow1" , "green1" , "skyblue1" , "blue1" , "purple1"
    , "pink1" , "brown1" , "black" , "grey2" , "red2" , "orange2" , "yellow2" , "green2" , "skyblue2" , "blue2"
    , "purple2" , "pink2" , "brown2" ] %>

<% const extendedColors = [
    "#ffffff", "#c1c1c1", "#ef130b", "#ff7100", "#ffe400", "#00cc00", "#00b2ff", "#231fd3", "#a300ba", "#d37caa", "#a0522d", "#ffc0cb",
    "#000000", "#4c4c4c", "#740b07", "#c23800", "#e8a200", "#005510", "#00569e", "#0e0865", "#550069", "#a75574", "#63300d", "#ffb6c1",
    "#808080", "#a52a2a", "#ff6347", "#ffa500", "#adff2f", "#32cd32", "#1e90ff", "#9400d3", "#ff1493", "#deb887", "#8b4513", "#f5deb3"
] %>

<div class="toolbar-container d-none" id="tools">
    <div class="toolbar">
        <div class="tool-group">
            <div class="tool-item position-relative">
                <div class="selected-color" id="colorPickerBtn" role="button" style="background-color: #000;"></div>
                <div class="color-palette d-none" id="colorPalette">
                    <% for(let row = 0; row < 2; row++) { %>
                        <div class="color-row">
                            <% for(let col = 0; col < 12; col++) { %>
                                <div class="palette-color" style="background-color: <%= extendedColors[row * 12 + col] %>" data-color="<%= extendedColors[row * 12 + col] %>"></div>
                            <% } %>
                        </div>
                    <% } %>
                </div>
            </div>
            
            <div class="tool-item position-relative p-0" style="background-color: #b38bff; border-color: #b38bff;">
                <div class="brush-indicator" id="brushPickerBtn" role="button">
                    <span class="brush-dot brush-md" style="width: 14px; height: 14px;"></span>
                </div>
                <div class="brush-palette d-none" id="brushPalette">
                    <div class="brush-item" data-linesize="2" title="Smallest"><span class="brush-dot" style="width: 4px; height: 4px;"></span></div>
                    <div class="brush-item active" data-linesize="5" title="Small"><span class="brush-dot" style="width: 8px; height: 8px;"></span></div>
                    <div class="brush-item" data-linesize="15" title="Medium"><span class="brush-dot" style="width: 14px; height: 14px;"></span></div>
                    <div class="brush-item" data-linesize="30" title="Large"><span class="brush-dot" style="width: 24px; height: 24px;"></span></div>
                    <div class="brush-item" data-linesize="50" title="Extra Large"><span class="brush-dot" style="width: 36px; height: 36px;"></span></div>
                </div>
            </div>

            <div class="tool-item tool-btn active" id="pencilTool" title="Pencil">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"/>
                    <path d="m15 5 4 4"/>
                </svg>
            </div>
            <div class="tool-item tool-btn" id="undoBtn" title="Undo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 7v6h6"/>
                    <path d="M3 13a9 9 0 1 0 3-7.7L3 7"/>
                </svg>
            </div>
            <div class="tool-item tool-btn" id="clearCanvas" title="Clear">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 6h18"/>
                    <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/>
                    <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                </svg>
            </div>
        </div>
    </div>
</div>
